/*!
Theme Name: Musical Theatre Factory
Author: Aaron Salley Design 
Author URI: http://AaronSalleyDesign.com/
Description: 
Version: 2016
License: GNU General Public License v3 or later
License URI: http://www.gnu.org/licenses/gpl.html
Tags: 
Text Domain: mtf

Copyright Â© Aaron Salley Design
*/

@charset 'utf-8';

@import 'settings';
@import 'foundation';
@import 'motion-ui';
// @import 'horizontalAccordion';
@import 'blurAccordion';
@import 'perspective';

@include foundation-global-styles;
@include foundation-grid;
// @include foundation-flex-grid;
@include foundation-typography;
@include foundation-button;
@include foundation-forms;
// @include foundation-range-input;
// @include foundation-accordion;
// @include foundation-accordion-menu;
// @include foundation-badge;
// @include foundation-breadcrumbs;
// @include foundation-button-group;
// @include foundation-callout;
// @include foundation-close-button;
@include foundation-menu;
@include foundation-menu-icon;
// @include foundation-drilldown-menu;
@include foundation-dropdown;
@include foundation-dropdown-menu;
// @include foundation-flex-video;
// @include foundation-label;
// @include foundation-media-object;
@include foundation-off-canvas;
// @include foundation-orbit;
// @include foundation-pagination;
// @include foundation-progress-bar;
// @include foundation-progress-element;
// @include foundation-meter-element;
// @include foundation-slider;
// @include foundation-sticky;
// @include foundation-reveal;
// @include foundation-switch;
// @include foundation-table;
// @include foundation-tabs;
// @include foundation-thumbnail;
// @include foundation-title-bar;
// @include foundation-tooltip;
// @include foundation-top-bar;
// @include foundation-visibility-classes;
@include foundation-float-classes;
// @include foundation-flex-classes;

// @include motion-ui-transitions;
// @include motion-ui-animations;

@import 'core';
@import 'animate';
// @import 'autoheight';
// @import 'lazyload';
// @import 'video';

// Mixins
$mtf-red: #ff2c1d;

// Template Parts
.site {
	position: relative;
	min-height: 100vh;
	
	a {
		color: inherit;
		opacity: 1;
		transition: all ease-in-out .5s;
		
		&:hover {
			opacity: .5;
		}
	}
	
	img[src*='.svg']{
		width: 100%;
		height: auto;
	}
	
	input {
		font-family: Helvetica, Roboto, Arial, sans-serif;
	}
	
	.button {
		@include button-style( rgba(255,44,29,1), rgba(255,44,29,.5) );
		padding: .5 * $global-padding $global-padding;
		line-height: 1.8;
	}
	
	&.perspective {
		background-color: white;
		background-image: url(dist/img/MTF-brushstroke-footer-background.png);
		
		.outer-nav {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translateY(-50%);
	
			.menu {
				@include menu-base;
				@include menu-direction(vertical);
				
				& > .menu-item {
					font-family: inherit;
					font-size: rem-calc(23);
					text-transform: uppercase;
					color: white;
				}
				
				.sub-menu {
					display: none;
				}
			}
		}
	}

	& > .header,
	& > .container > .wrapper > .header {
		@include grid-row;
		position: relative;
		padding-top: $global-padding;
		padding-bottom: $global-padding;
		font-family: 'MTF Grotesk';
		
		.mtf-logo {
			@include grid-column(9);
			padding-right: 0 !important;
			padding-left: 0 !important;

			@include breakpoint(medium) {
				@include grid-column(3.75);
			}
		}
		
		.menu-icon {
			position: absolute;
			top: 50%;
			right: 0;
			transform: translateY(-50%);
			margin-right: $global-padding;
			
			@include breakpoint(medium){
				display: none;
			}
			
			&:after {
				background: black;
				box-shadow: 0 7px 0 black, 0 14px 0 black;
			}
		}
		
		.site-nav {
			display: none;
			position: absolute;
			top: 50%;
			right: 0;
			transform: translateY(-50%);
			margin-right: 0;
			padding-right: 0 !important;
			z-index: 999;

			@include breakpoint(medium) {
				@include grid-column(8.25);
				display: block;
			}
			
			.menu {
				@include menu-base;
				text-align: right;
				
				& > .menu-item {
					display: inline-block;
					font-family: inherit;
					font-size: rem-calc(23);
					text-transform: uppercase;
				}
				
				.sub-menu {
					top: 3rem;
					left: auto;
					margin-right: .5rem;
					margin-left: .5rem;
					padding-right: .5rem;
					padding-left: .5rem;
					border: none;
					box-shadow: rem-calc(0 6 10) black;
										
					.menu-item {
						list-style: none;
						font-family: inherit;
						text-align: left;
					}
				}

				.opens-left .sub-menu {
					right: 0;
		
					.menu-item {
						text-align: right;
					}
				}	
			}
		}
		
		.action {
			float: right;
			margin: 0;
			padding: 0;
			text-align: right;
			
			.menu {
				@include menu-simple;
				display: inline-block;
				padding-left: 1em;
			}
		}
	}
	
	& > .content,
	& > .container > .wrapper > .content {
		@include grid-row;
		padding-right: $global-padding;
		padding-left: $global-padding;
		
		@include breakpoint(medium){
			padding-right: 0;
			padding-left: 0;
		}
		
		p, input, .nf-field-element {
			font-family: Helvetica, Roboto, Arial, sans-serif;
		}
		
		.nf-field-label {
			label {
				font-size: rem-calc(22);
			}
		}
		
		.content {
			a {
				font-weight: bold;
				color: $mtf-red !important;
			}
		}
	}
	
	& > .footer,
	& > .container > .wrapper > .footer {
		padding-top: rem-calc(120);
		padding-right: rem-calc(0);
		padding-bottom: $global-padding;
		padding-left: rem-calc(0);
		background-image: url(dist/img/MTF-brushstroke-footer-background.png);
		background-repeat: repeat-x;
		font-family: 'MTF Grotesk';
		color: rgba(white, 1);

		@include breakpoint(medium){
			padding-bottom: rem-calc(120);
		}
		
		.site-nav {
			@include menu-base;

			@include breakpoint(medium) {
				@include grid-column(9);
			}
	
			.menu {
				@include menu-simple;
				@include flex-grid-row();
				
				.menu-item {
					@extend h4;
					@include grid-column(12);
					vertical-align: top;
					font-family: inherit;
					text-transform: uppercase;

					@include breakpoint(medium) {
						@include flex-grid-column();
					}
					
					& > a {
						padding-bottom: 1em;
					}
				}
				
				.sub-menu {
					@include menu-direction(vertical);
					display: none;
					margin-left: 0;

					@include breakpoint(medium) {
						display: block;
					}
					
					.menu-item {
						padding-bottom: 1em;
						padding-left: 0;
						font-size: 1rem;
					}
				}
			}
		}
		
		.widgets {
			@include grid-column(12);

			@include breakpoint(medium) {
				@include grid-column(3);
			}
			
			.widget {
				padding-bottom: 1em;
				
				.title {
					font-family: inherit;
					text-transform: uppercase;
				}
				
				address {
					font-style: normal; 
				}
				
				input {
					line-height: 1.8;
				}
				
				.menu {
					@include menu-base;
					@include menu-simple;
					
					.menu-item {
						position: relative;
						width: rem-calc(35);
						overflow: hidden;
						
						&:before {
							display: block;
							content: '';
							padding-top: 100%;
							width: 100%;
							background-size: contain;
						}
						
						a { 
							position: absolute;
							top: 0;
							right: 0;
							bottom: 0;
							left: 0;
							text-indent: 100%;
						}
						
						&.facebook:before {
							background-image: url(dist/img/facebook.png);
						}
						
						&.twitter-bird:before {
							background-image: url(dist/img/twitter-bird.png);
						}
						
						&.instagram:before {
							background-image: url(dist/img/instagram.png);
						}
						
						&.youtube:before {
							background-image: url(dist/img/youtube.png);
						}
					}
				}
			}
		}
		
		.mtf-logo {
			object-fit: contain;
			
			@include breakpoint(medium) {
				@include grid-column(3);
				position: absolute;
				bottom: 0;
				left: 0;
			}
		}
	}

	.donate {
		color: $mtf-red !important;
	}

	.container {
		@include grid-row;
		position: relative; 
	}
	
	.carousel {
		@extend .owl-carousel;
		padding: 1rem 0;
	}
	
	.section-title {
		text-transform: uppercase;
	}
}

.home #home {
	#mission {
		@include clearfix;
		margin: 1rem 0;
		box-shadow: rem-calc(0 0 10) black;
		
		@include breakpoint(small only){
			@include accordion-container;
		}
		
		@include breakpoint(medium){
			@include blur-accordion-container();
		}
		
		& > * {
			position: relative;
			background-color: black;
			color: white;
			
			@include breakpoint(small only){
				@include accordion-item;
			}
	
			@include breakpoint(medium){
				@include blur-accordion-item;
			}
			
			&.is-active {
				.background {
					opacity: .5;
				}
				
				.lead {
					&:focus,
					&:hover {
						background-color: transparent;
					}
					
					@include breakpoint(medium){
						&:hover,
						&:focus {
							opacity: 1;
						}
					}
				}
				
				.excerpt {
					@include breakpoint(medium){
						opacity: 1;
					}
				}
			}
			
			&.background--light {
				color: black;
			}
			
			.background {
				position: absolute;
				top: 0;
				right: 0;
				bottom: 0;
				left: 0;
				opacity: .85;
				background-size: cover;
			}
			
			.lead {
				@include breakpoint(small only){
					@include accordion-title();
					color: white;
				}
				
				@include breakpoint(medium){
					@include blur-accordion-title();
				}
			}
			
			.excerpt {				
				@include breakpoint(small only){
					@include accordion-content();
					position: relative;
					z-index: 9;
					background-color: transparent;
					color: white;
				}
				
				@include breakpoint(medium){
					@include blur-accordion-content();
					left: rem-calc(75);
				}

				p {
					@extend h4;
					font-family: $body-font-family;
	
					&:first-child:last-child {
						margin-bottom: 0;
					}
				}
			}
		}
	}
	
	#events {
		@include clearfix();

		.carousel {
			@include grid-column(12);
			
			.event {
				position: relative;
				text-align: center;
				
				.time {
					margin-bottom: 0;
				}
				
				.title {
				}
				
				.image {
					position: relative;
					box-shadow: rem-calc(0 0 10) black;
					
					&:before {
						content: '';
						display: block;
						padding-top: 100%;
						background-color: grey;
					}
					
					img {
						position: absolute;
						top: 0;
						right: 0;
						bottom: 0;
						left: 0;					
					}
				}
			}
		}
	}
	
	#blog {
		@include breakpoint(medium) {
			@include grid-column(3);
		}
		
		.post {
			.header {
				position: relative;
				background-color: black;
				
				.title {
					padding-right: 2.5 * $global-padding;
					padding-left: rem-calc(91);
					color: white;
				}
				
				.categories {
					padding-right: 5 * $global-padding;
					padding-left: rem-calc(91);
					color: white;
				}
			}
		}
	}
	
	#support {
		@include breakpoint(medium) {
			@include grid-column(9);
		}
	}
	
	#volunteer {
		@include breakpoint(medium) {
			@include grid-column(8);
		}
	}
	
	#gallery {
		@include breakpoint(medium) {
			@include grid-column(4);
		}
	}		
}

.page .content:not(#home),
.archive .content,
.single .content {
	& > .header {
		position: relative;
		height: rem-calc(360);
		background: black;
		padding: $global-padding;
		overflow: hidden;
		box-shadow: rem-calc(0 0 10) black;
		
		.background {
			position: absolute;
			top: 0;
			right: 0;
			bottom: 0;
			left: 0;
			background-size: cover;
			background-position: center center;
		}
		
		.title {
			position: absolute;
			bottom: 0;
			left: 0;
			display: inline-block;
			padding-right: 5 * $global-padding;
			padding-left: rem-calc(91);
			background-color: black;
			color: white;
		}	
	}
	
	menu[id*="-pages"] {
		@include menu-base;
		clear: both;
		margin-bottom: $global-margin;
		padding: $global-padding;
		background-color: black;
		text-align: center;
		box-shadow: rem-calc(0 0 10) black;
		
		.menu {
			@include menu-direction(vertical);

			@include breakpoint(medium){
				@include menu-simple;
				display: inline-block;
			}
			
			.page-item {
				@extend h4;
				margin-right: rem-calc(30);
				margin-left: rem-calc(30);
				color: white;
			}
		}
	}

	.content {
		margin-top: $global-margin;

		@include breakpoint(medium) {
			@include grid-column(7);
		}
		
		&.full-width {
			@include grid-column(12);
		}
	}

	.members {
		margin-top: $global-margin;
		margin-bottom: $global-margin;

		@include breakpoint(medium) {
			@include grid-column(12);
		}
		
		.role {
			text-align: center;
		}
		
		.member {
			margin-bottom: $global-margin;

			.name, .position, .contact {
				min-height: 1em;
				margin-bottom: 0;
				line-height: 1em;
			}
		}
		
		&:nth-of-type(-n+2) .member {
			@include grid-column(4);

			@include breakpoint(medium) {
				@include grid-column(2);
			}

			.headshot {
				position: relative;
				width: 100%;
				background: black;
				margin-bottom: rem-calc(8);
				overflow: hidden;
				
				&:before {
					content: '';
					display: block;
					padding-top: 100%;
				}
				
				.avatar {
					position: absolute;
					top: 0;
					left: 0;
					width: 100%;
				}
			}
			
			.name, .position, .contact {
				text-align: center;
				white-space: nowrap;
				overflow: hidden;
			}
		}
	}
	
	.sidebar {
		@include breakpoint(medium) {
			@include grid-column(4);
			float: right;
		}
		
		section > .header {
			display: none;
		}
		
		#members {
			@include grid-column(12);
			padding-bottom: 3 * $global-padding;
			
			.header {
				display: block;
			}
			
			.member {
				@include breakpoint(medium) {
					@include grid-column(4);
					@include grid-layout-center-last(3);
				}
				
				.name {
					text-align: center;
				}
			}
		}
		
		#blog {
			.excerpt {
				font-size: .8em;	
			}
		}
	}

	.footer {
	}

	&#contact {
		.content {
			padding-top: rem-calc(70);

			@include breakpoint(medium) {
				@include grid-column(4);
				float: right;
			}
		}
		
		.members {
			@include grid-column(12);
			
			@include breakpoint(medium) {
				@include grid-column(7);
			}
			
			&#board-of-directors,
			&#advisory-board {
				@include grid-column(12);

				@include breakpoint(medium) {
					@include grid-column(6);
				}
			}

			&:nth-of-type(-n+2) .member {
				@include breakpoint(medium) {
					@include grid-column(3);
				}
			}
		}
	}
	
	&#membership {
		.content {
			@include grid-column(12);
		}
		
		.members {
			@include grid-column(12);
		}
	}
	
	&#projects {
		#projects-pages {
			visibility: hidden;
		}

		.content {
			padding-top: rem-calc(70);

			@include breakpoint(medium) {
				@include grid-column(5);
				float: right;
			}
		}
		
		.projects {
			@include breakpoint(medium) {
				@include grid-column(7);
			}
			
			.project {
				position: relative;

				@include breakpoint(medium) {
					@include grid-column(4);
				}
				
				.artwork {
					overflow: hidden;
					position: relative;
					width: 100%;
					background: black;
					margin-bottom: rem-calc(8);
					
					&:before {
						content: '';
						display: block;
						padding-top: 100%;
					}
					
					.wp-post-image {
						position: absolute;
						top: 0;
						left: 0;
						width: 100%;
					}
				}
				
				.title {
					height: 4em;
				}
				
				.summary {
					display: none;
				}
			}
		}
	}
	
	&#donate {
		.product {
			@include grid-row;
			
			.images {
				@include breakpoint(medium){
					@include grid-column(6);
				}
			}
			
			.summary {
				@include breakpoint(medium){
					@include grid-column(6);
				}
			}
			
			.woocommerce-tabs {
				@include breakpoint(medium){
					@include grid-column(6);
					clear: none;
				}				
			}
		}
	}
	
	&#profile {
		.content {
			@include grid-column(12);
		}
	}
	
	#tribe-events {
		.tribe-events-button,
		.button {
			@include button-style( rgba(255,44,29,1), rgba(255,44,29,.5) );
			padding: .5 * $global-padding $global-padding;
			line-height: 1.8;
		}
		
		#tribe-events-content table.tribe-events-calendar .type-tribe_events.tribe-event-featured,
		.tribe-events-calendar td.tribe-events-present div[id*=tribe-events-daynum-],
		.tribe-events-calendar td.tribe-events-present.mobile-active,
		.tribe-events-calendar td.mobile-active,
		#tribe-events-content .tribe-events-calendar .mobile-active:hover,
		.tribe-events-calendar .mobile-active div[id*=tribe-events-daynum-] {
			background-color: $mtf-red;
		}
		
		#tribe-events-content .tribe-events-calendar td,
		#tribe-events-content .tribe-events-tooltip h4,
		a {
			color: $mtf-red;
// 			background-color: white;
		}
		
		.tribe-events-calendar td.tribe-events-present div[id*=tribe-events-daynum-],
		.tribe-events-calendar .mobile-active div[id*=tribe-events-daynum-] a {
			color: white;
		}

		.tribe-events-calendar .mobile-active div[id*=tribe-events-daynum-] a {
			background-color: transparent;
		}

		.tribe-events-single {
			
			.tribe-events-single-event-left-content{
				@include breakpoint(medium){
					@include grid-column(6);
				}
				
				.tribe-events-event-image {
				}
			}
			
			.tribe-events-single-event-left-content{
				@include breakpoint(medium){
					@include grid-column(6);
				}

				.tribe-events-single-event-description {
				}
			}
		}
	}
}